<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <title>FLORA-2 Installation</title>
    <link rel="shortcut icon" href="images/flora.ico">
</head>
<body  bgcolor="#FFFFFF">

  <h1>Installing FLORA-2</h1>
  
  <P>
    First, you need to download and
    install XSB: either
    <a href="http://xsb.sourceforge.net/downloads/downloads.html"
    target="new_window2">the latest
    released version</a>
    or <a href="https://sourceforge.net/p/xsb/src/7781/tree/"
    target="new_window2">the
    development version from XSB's SVN repository</a>.
    Make sure the sources are installed. If you are using the XSB Windows
    installer, you need to verify that the appropriate boxes are checked.
    Otherwise, the installer will install only the base system and the
    subsequent installation of FLORA-2 will fail.
  </P>
  <p>
    Download FLORA-2 and follow the instructions below.
    Place FLORA-2 sources in a separate directory
    outside of the XSB source tree (for instance, 
    <tt>~/FLORA</tt> or <tt>C:\FLORA</tt>).
    After unpacking (or checking out from SVN) the FLORA-2
    sources will be placed in a subdirectory called <tt>flora2</tt>.
  </p>
  <p>
     FLORA-2 has a <b>simplified</b> installation procedure for
     <a href="https://sourceforge.net/projects/flora/files/FLORA-2/">
     official pre-compiled releases</a> (beginning with 0.99.1)
     and the full, more complex procedure, if you
     at <a href="https://sourceforge.net/p/flora/src/959/tree/">downloaded it
     from SVN</a>.
  </p>

<h3>Simplified Installation (for official releases)</h3>

<p>
   Follow these two simple steps:
</p>
<ol>
  <li>
    Change to the <tt>flora2</tt> folder at the root of your FLORA-2 installation.
  </li>
  <li>  Configure FLORA-2:  
    <ul>
      <li>
	For <em>Linux/Mac/Cygwin</em>, type:
<pre>
./floraconfig  path-for-/XSB/bin/xsb
</pre>
	<p>
	  where path-for-/XSB/bin/xsb is the path to the XSB invocation
	  script that is
	  located in the <tt>.../XSB/bin/</tt> directory. 
	</p>
	<p>
	  If <tt>xsb</tt> is aliased to the XSB executable of your XSB
	  installation or if <tt>path-for-/XSB/bin/xsb</tt> is on the system
	  search path for executables,
	  then the part <tt>path-for-/XSB/bin/xsb</tt>  can be omitted.
	</p>
      </li>
      <li>
	For <em>Windows</em>, type:
<pre>
floraconfig  path-for-\XSB\bin\xsb.bat
</pre>
or
<pre>
floraconfig  path-for-\XSB\bin\xsb64.bat
</pre>
	<p>
	  depending on whether you installed XSB as a 32-bit or a 64-bit
	  application.
	</p>
      </li>
  </li>
</ol>
<p>
   If everything went well, the command <tt>./runflora</tt>
   or <tt>runflora.bat</tt> can be used to start the FLORA-2 command line
   shell.  
</p>


<h3>Installing FLORA-2 under Linux/Mac (if downloaded from SVN)</h3>
<p>
  Change to the <tt>flora2</tt> folder at the root of your FLORA-2 installation
  and type and execute the following commands
</p>
<pre>
   ./makeflora clean
   ./makeflora all path-for-/XSB/bin/xsb
</pre>
<p>
  If <tt>xsb</tt> is aliased to the XSB executable of your XSB
  installation or if <tt>path-for-/XSB/bin/xsb</tt> is on the system
  search path for executables,
  then the arguments <tt>all</tt> and  <tt>path-for-/XSB/bin/xsb</tt>  can be
  omitted:
</p>
<pre>
   ./makeflora clean
   ./makeflora
</pre>
<p>
  If everything went well, you will be able to run FLORA-2 using the
  <tt>./runflora</tt> script. 
</p>

<h3>Configuring FLORA-2 under Windows (if downloaded from SVN)</h3>
<p>
You will need Microsoft's <tt>nmake</tt>, which can be downloaded as part of
Visual C++ Express from 
<a
href="http://www.microsoft.com/visualstudio/eng/products/visual-studio-express-products"
    target="new_window2">http://www.microsoft.com/visualstudio/eng/products/visual-studio-express-products</a>.
Install Visual C++.
</p>
<p>
  Use the following commands
to configure FLORA-2 (assuming that XSB is installed and configured, its
invocation script is in <tt>D:\XSB\bin\</tt>,  and FLORA is installed in
<tt>D:\FLORA\flora2</tt>): 
</p>

<pre>
   PATH=C:\Program Files\Microsoft Visual Studio 10.0\VC\BIN;%PATH%
   cd D:\FLORA\flora2
   makeflora  clean
   makeflora D:\XSB\bin\xsb.bat
</pre>
<p>
  <b>Important</b>: 
   This assumes that Visual Studio was installed in the folder named
   <tt>C:\Program Files\Microsoft Visual Studio 10.0</tt>. If it is installed
   elsewhere, make the appropriate adjustments.
</p>
<p>
   If you are using the 64-bit version of XSB, then configure FLORA-2 using
</p>
<pre>
  makeflora D:\XSB\bin\xsb64.bat
</pre>
<p>
   instead of <tt>D:\XSB\bin\xsb64.bat</tt>. 
</p>
<p>
<b>Note</b>: the Windows version of <tt>makeflora</tt> takes only one parameter,
while its Unix counterpart takes two.
</p>
<p>
   It may be useful to set the environment
   variable <code>HOME</code> on your Windows system to some directory
   accessible from your account.
   XSB and FLORA-2 will place various auxiliary files in
   the subfolder <tt>.xsb</tt> in that directory.
   Environment variables are usually set by opening
   the <code>System</code> folder, which is located inside
   the <code>Settings</code> folder.
   If <code>HOME</code> is not set, XSB will use the location
   specified in the <tt>USERPROFILE</tt> system variable. 
</p>
<p>
  Once FLORA-2 is installed, you can run it using the command
  D:\FLORA\flora2\runflora
</p>

<h3>Configuring FLORA-2 under Cygwin (if downloaded from SVN)</h3>
<p>
  <a href="http://www.cygwin.com/"
    target="new_window2">Cygwin</a> is a free Unix emulator for
  Windows. The advantage of using XSB and FLORA-2 under Cygwin is that the
  system will run faster than under native Windows due to special optimizations
  that XSB has for the GCC compiler.
  The main disadvantage of Cygwin is that it is a fundamentally a 32 bit system,
  which can use only up to 3GB of main memory. If your uses of FLORA-2 require
  more, you should bypass this option in favor of a native 64-bit builds of XSB
  and FLORA-2.
  </p>
  <p>
    You need a reasonably full installation
  of Cygwin. In particular, GCC and the related development tools (such
  as <tt>autoconf</tt>, <tt>make</tt>, etc.) must be installed.
  It is also desirable to have <tt>makedepend</tt>, which usually comes with
  the X11 package of Cygwin. 
  If you are
  planning to access a database, the ODBC DLL must also be installed.  XSB must
  be configured for Cygwin as well.
</p>
<p>
  Other than that, the installation steps for Cygwin are the same as under
  Linux
</p>


<hr>
<p>
<!--Don't touch! The date gets updated when you commit changes to this page-->
$Date:: 2013-05-13#$

</body>
</html>
