function moo(?x):=?y if mooDef(?x,?y).
function rr(?x):=?y if rrDef(?x,?y).
function rr(a):=p.
function bar(?x):=moo(?x) if t(?x).
function bar1(?x):=moo(?x) if t(?x).
function foo(?x):=bar(?x) if q(?x).
function foo1(?x):=bar1(?x) if q(?x).
function foo(?x):=rr(?x) if r(?x).
function foo(p):=aa.
function foo(q):=cc.

mooDef(a,b).
mooDef(b,c).
mooDef(c,d).
mooDef(d,e).
mooDef(e,f).
mooDef(f,g).

q(a).
q(b).
q(c).
q(d).
q(f).

r(a).
r(c).
r(d).

t(a).
t(d).
t(f).
t(e).

f(b).
f(d).
f(g).


test1 :- foo(?x)=bar(?x), writeln(?x)@_plg.
test2 :- bar(?x)=moo(?x), writeln(?x)@_plg.
test3 :- moo(?x)=foo(?x), writeln(?x)@_plg.

%test:- 
	tell(temp)@_plg,
	test1,
	test2,
	test3,
	told@_plg.
