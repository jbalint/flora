
%tst1 :- write('test1 = ')@_plg,
	tinsert{a}, tinsert{a(1)}, tinsert{b,b(1)},
	if (a,a(1),b,b(1)) then writeln(success)@_plg
        else writeln(failure)@_plg.

%tst2aux :-
	tinsert{aa}, tinsert{aa(1)}, tinsert{bb,bb(1)},
	fail.
%tst2aux :- !.

%tst2 :- write('test2 = ')@_plg,
	%tst2aux,
	if (aa;aa(1);bb;bb(1)) then writeln(failure)@_plg
        else writeln(success)@_plg.

%tst3aux :-
	tdelete{a}, tdelete{a(1)}, tdelete{b,b(1)},
	fail.
%tst3aux :- !.

%tst3 :- write('test3 = ')@_plg,
	%tst3aux,
	if (a,a(1),b,b(1)) then writeln(success)@_plg
        else writeln(failure)@_plg.

%tst4 :- write('test4 = ')@_plg,
	tdelete{a}, tdelete{a(1)}, tdelete{b,b(1)},
	if (a;a(1);b;b(1)) then writeln(failure)@_plg
        else writeln(success)@_plg.

%pretest :- %tst1, %tst2, %tst3, %tst4.


%test :- tell(temp)@_plg(),
	Method[%mustDefine(off,(aa@main,bb@main,aa(?)@main,bb(?)@main))]@_sys,
	Method[%mustDefine(on)]@_sys,
	%pretest,
	Method[%mustDefine(off)]@_sys,
	!,
	abolish_all_tables,
	%pretest,
	told@_plg().

