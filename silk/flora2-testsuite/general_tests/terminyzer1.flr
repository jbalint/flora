@!{fact1} p(a).
@!{fact2} q(b).
@!{fact3} s(f1(b)).
@!{rule1} r(?X) :- r(?X).
@!{rule2} p(f1(?X)) :- q(?X).
@!{rule3} q(f2(?X)) :- p(?X).
@!{rule4} r(?X) :- p(?X), s(?X).

// the following is to generate the logforest trace
/*
?- flora_set_answer_depth(10,0,abort)@_prolog(flrerrhandler).
?- _logforest('terminyzer1_floralog','terminyzer1_xsblog').
?- r(?X).
?- _nologforest.
?- _halt.
*/

// the following is regression test
%test :- tell(temp)@_plg(),
	terminyzer('terminyzer1_xsblog','terminyzer_summary.flr')@_prolog(flrterminyzer),
	Method[%mustDefine(on)]@_sys,
	terminyzer('terminyzer1_xsblog','terminyzer_summary.flr')@_prolog(flrterminyzer),
	Method[%mustDefine(off)]@_sys,
	told@_plg().


// the following is the auto-repair version which terminates
/*
@!{fact1} p(a).
@!{fact2} q(b).
@!{fact3} s(f1(b)).
@!{rule1} r(?X) :- wish(ground(?X))^r(?X).
@!{rule2} p(f1(?X)) :- wish(ground(?X))^q(?X).
@!{rule3} q(f2(?X)) :- wish(ground(?X))^p(?X).
@!{rule4} r(?X) :- wish(ground(?X))^p(?X), s(?X).

?- flora_set_answer_depth(10,0,abort)@_prolog(flrerrhandler).
?- wish(ground(?X))^r(?X).
?- _halt.
*/