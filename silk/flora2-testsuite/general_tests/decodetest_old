tst0: ${f(a)}  f(a) res = ${f(a)}
tst1: f(a)  res = f(a)
tst2: f(g(${a[b->c]}))(a)  f(g(${a[b -> c]}))(a)
tst3: f(a)  f(a)
tst4: f(g(${a[b->c]}))(a)  f(g(${a[b -> c]}))(a)
tst5: f(g(b),g(${a[b->c]}))  f(g(b),g(${a[b -> c]}))
tst6: f(g(b),g(${a[b->c]}))  f(g(b),g(${a[b -> c]}))
tst7: f(g(${a[b->c]}))(a)  f(g(${a[b -> c]}))(a)
tst8: f(g,g(${a[b->c]})@_plg())@_plg()  f(g,g(${a[b -> c]})@_prolog)@_prolog
tst9: f(a)@foobar  f(a)@foobar
tst10: f(a)  res = f(a)
tst11: atom(a)  res = atom(a)@_prolog
tst12: p(a)  p(a)
tst13: (\+ ppp)  \+(ppp)
tst14: (\+ ppp)  \+ ppp
tst15: call(ppp)  call(ppp)
tst16: res=tnot(ppp)  res = tnot(ppp)
tst17: tnot(ppp)  tnot(ppp)
tst18: tnot(ppp)  (not ppp)
tst19: atom(a)  atom(a)@_prolog
tst20: a+b  a + b
tst21: ${f(a)@foo}  res = ${f(a)@foo}
tst22: ${f(a)@foobar}  res = ${f(a)@foobar}
tst23: a[b->c]  a[b -> c]
tst24: a[b->c(ff(${dd[dd->dd]}))]  a[b -> c(ff(${dd[dd -> dd]}))]
tst25: g(a)[f(b)->h(c)]  g(a)[f(b) -> h(c)]
tst26: ${g(a)[p(d)*->h]}[f(b)->h(c)]  ${g(a)[p(d) *-> h]}[f(b) -> h(c)]
tst27: ${a[b->c]}  res = ${a[b -> c]}
tst28: ${a[b->c]@foo}  res = ${a[b -> c]@foo}
tst29: ${a[b->c]@bar}  res = ${a[b -> c]@bar}
tst30: a[b->c]@bar  a[b -> c]@bar
tst31: ${a[b*->c]}  res = ${a[b *-> c]}
tst32: ${a[b{1:1}=>c]}  res = (${a[b => c]}, ${a[b{1:1}=>?})
tst33: ${a[b{1:1}*=>c]}  res = (${a[b *=> c]}, ${a[b{1:1}*=>?})
tst34: ${a[b->c]}  res = ${a[b -> c]}
tst35: ${a[b->{c,d}]}  res = (${a[b -> c]}, ${a[b -> d]})
tst36: ${a[b->->c]}  res = ${a[b ->-> c]}
tst37: ${a[b*->->c]}  res = ${a[b *->-> c]}
tst38: ${a[b*->c]}  res = ${a[b *-> c]}
tst39: ${a[b*+>>c]}  res = ${a[b *+>> c]}
tst40: a[b*+>>c]  a[b *+>> c]
tst41: ${a[b=>c]}  res = ${a[b => c]}
tst42: ${a[b*=>c]}  res = ${a[b *=> c]}
tst43: ${a[pp(a,y)]}  res = ${a[pp(a,y)]}
tst44: ${a[*pp(a,y)]}  res = ${a[*pp(a,y)]}
tst45: ${a[%pp(a,y)]}  res = ${a[%pp(a,y)]}
tst46: ${a:=:b}  res = ${a :=: b}
tst47: ${f(a):=:g(b,p)}  res = ${f(a) :=: g(b,p)} f(a) :=: g(b,p)
tst48: p(y)@_plg()  res = p(y)@_prolog
tst49: p(y)@_plg(aaa)  res = p(y)@_prolog(aaa)
tst50: p(y)@_plg(aaa)  p(y)@_prolog(aaa)
tst51: ${p(y)@foo}  res = ${p(y)@foo}
tst52: ${a[b->c]@foo}  res = ${a[b -> c]@foo}
tst53: ${if a[b->c]@foo then b[y->p] else g(c)}  res = ${if (a[b -> c]@foo) then (b[y -> p]) else (g(c))} if (a[b -> c]@foo) then (b[y -> p]) else (g(c))
tst54: ${if (a[b->c]@foo  res = ${if ((a[b -> c]@foo, p(a))) then (b)}
tst55: unless a[b->c]@foo do b  unless (a[b -> c]@foo) do (b)
tst56: ${while a[b->c]@foo do b}  res = ${while (a[b -> c]@foo) do (b)}
tst57: ${while a[b->c]@foo loop p[%p(r)]}  res = ${while (a[b -> c]@foo) loop (p[%p(r)])}
tst58: loop a[b->c]@foo until b  loop (a[b -> c]@foo) until (b)
tst59: ${do a[b->c]@foo until b}  res = ${do (a[b -> c]@foo) until (b)}
tst62: ${insert{a[b->c]}}  res = ${insert{a[b -> c]}}
tst63: ${insert{a[b->c],e[f->g]}}  res = ${insert{a[b -> c], e[f -> g]}}
tst64: ${insert{a[b->c]|e[f->g],2>1}}  res = ${insert{a[b -> c]| (e[f -> g], 2 > 1)}}
tst65: ${delete{a[b->c],e[f->g]}}  res = ${delete{a[b -> c], e[f -> g]}}
tst66: ${delete{a[b->c]|e[f->g],2>1}}  res = ${delete{a[b -> c]| (e[f -> g], 2 > 1)}}
tst67: ${deleteall{a[b->c]|e[f->g],2>1}}  res = ${deleteall{a[b -> c]| (e[f -> g], 2 > 1)}}
tst68: ${eraseall{a[b->c]| 2>1}}  res = ${eraseall{a[b -> c]| 2 > 1}}
tst69: ${erase{a[b->c]|e[f->g],2>1}}  res = ${erase{a[b -> c]| (e[f -> g], 2 > 1)}}
tst70: ${t_insert{a[b->c],e[f->g]}}  res = ${t_insert{a[b -> c], e[f -> g]}}
tst71: ${t_insert{a[b->c]|e[f->g],2>1}}  res = ${t_insert{a[b -> c]| (e[f -> g], 2 > 1)}}
tst72: ${t_delete{a[b->c],e[f->g]}}  res = ${t_delete{a[b -> c], e[f -> g]}}
tst73: ${t_delete{a[b->c]|e[f->g],2>1}}  res = ${t_delete{a[b -> c]| (e[f -> g], 2 > 1)}}
tst74: ${t_deleteall{a[b->c]|e[f->g],2>1}}  res = ${t_deleteall{a[b -> c]| (e[f -> g], 2 > 1)}}
tst75: ${t_erase{a[b->c]}}  res = ${t_erase{a[b -> c]}}
tst76: ${t_erase{a[b->c]|e[f->g],2>1}}  res = ${t_erase{a[b -> c]| (e[f -> g], 2 > 1)}}
tst77: ${t_eraseall{a[b->c]|e[f->g],2>1}}  res = ${t_eraseall{a[b -> c]| (e[f -> g], 2 > 1)}}
tst78: ${F=avg{Y|e[Y->g],2>1}}  res = ${F = avg{Y| (e[Y -> g], 2 > 1)}}
tst79: ${F=avg{Y [Z]|e[Y->g],Z>1}}  res = ${F = avg{Y[Z]| (e[Y -> g], Z > 1)}} F = avg{Y[Z]| (e[Y -> g], Z > 1)}
tst80: ${F=avg{Y [Z,V]|e[Y->g],Z>V}}  res = ${F = avg{Y[Z,V]| (e[Y -> g], Z > V)}}
tst81: ${F=count{Y|e[Y->g],2>1}}  res = ${F = count{Y| (e[Y -> g], 2 > 1)}}
tst82: ${p2h{f(s),g(p,a)}}  res = ${p2h{f(s),g(p,a)}}
tst83: ${refresh{a[b->c]}}  res = ${refresh{a[b -> c]}}
tst84: ${refresh{a[b->c],d[g->p]}}  res = ${refresh{a[b -> c], d[g -> p]}}
tst85: ${throw{a(b,c)}}  res = ${throw{a(b,c)}}
tst86: throw{a(b,c)}  throw{a(b,c)}
tst87: ${catch{a[b->c],f(a),p(oo)}}  res = ${catch{a[b -> c],f(a),p(oo)}}
tst88: ${a[%pp(a,y),*pp(a,y),pp(g(a),h(y));f(a)->b]}  res = ((${a[%pp(a,y)]}, (${a[*pp(a,y)]}, ${a[pp(g(a),h(y))]})); ${a[f(a) -> b]})
tst89: ${a:b[b->c,e->f]}  res = (${a:b}, (${a[b -> c]}, ${a[e -> f]}))
tst90: ${a[b->c;p->q]}  res = (${a[b -> c]}; ${a[p -> q]})
tst91: ${a[b->c,e->f;p->{q,r},oo+>>you]}  res = ((${a[b -> c]}, ${a[e -> f]}); ((${a[p -> q]}, ${a[p -> r]}), ${a[oo +>> you]}))
tst92: ${(a[b->c,e->f],ppp[p->{q,r}] ; qq[oo+>>you])}  res = (((${a[b -> c]}, ${a[e -> f]}), (${ppp[p -> q]}, ${ppp[p -> r]})); ${qq[oo +>> you]})
tst93: [${a[b->c,e->f]},fff(y,pp),${(ppp[p->{q,r}],qq[oo+>>you])}]  res = [(${a[b -> c]}, ${a[e -> f]}), fff(y,pp), ((${ppp[p -> q]}, ${ppp[p -> r]}), ${qq[oo +>> you]})]
tst94: [${a[b->c,e->f]},fff(y,pp),(${(ppp[p->{q,r}],qq[oo+>>you])})]  res = [(${a[b -> c]}, ${a[e -> f]}), fff(y,pp), ((${ppp[p -> q]}, ${ppp[p -> r]}), ${qq[oo +>> you]})]
tst96: p([f(a) - g(b), h(s) - j(o)])
tst97: res = [f(a - b), h(s) - j(o)]
tst98: _#'103'8 - _#'104|2'8 + _#'104|2'8
tst99: ((p(a), (a[b -> c], a[d -> e])), (delete{foo(P)| a[P -> 2]}, P = avg{O| p(O)}))
tst0_2: ${%f(a)}  %f(a) res = ${%f(a)}
tst3_2: %f(a)  %f(a)
tst4_2: %f(g(${a[b->c]}))(a)  %f(g(${a[b -> c]}))(a)
tst7_2: %f(g(${a[b->c]}))(a)  %f(g(${a[b -> c]}))(a)
tst9_2: %f(a)@foobar  %f(a)@foobar
tst21_2: ${%f(a)@foo}  res = ${%f(a)@foo}
tst22_2: ${%f(a)@foobar}  res = ${%f(a)@foobar}
tst0: ${f(a)}  f(a) res = ${f(a)}
tst1: f(a)  res = f(a)
tst2: f(g(${a[b->c]}))(a)  f(g(${a[b -> c]}))(a)
tst3: f(a)  f(a)
tst4: f(g(${a[b->c]}))(a)  f(g(${a[b -> c]}))(a)
tst5: f(g(b),g(${a[b->c]}))  f(g(b),g(${a[b -> c]}))
tst6: f(g(b),g(${a[b->c]}))  f(g(b),g(${a[b -> c]}))
tst7: f(g(${a[b->c]}))(a)  f(g(${a[b -> c]}))(a)
tst8: f(g,g(${a[b->c]})@_plg())@_plg()  f(g,g(${a[b -> c]})@_prolog)@_prolog
tst9: f(a)@foobar  f(a)@foobar
tst10: f(a)  res = f(a)
tst11: atom(a)  res = atom(a)@_prolog
tst12: p(a)  p(a)
tst13: (\+ ppp)  \+(ppp)
tst14: (\+ ppp)  \+ ppp
tst15: call(ppp)  call(ppp)
tst16: res=tnot(ppp)  res = tnot(ppp)
tst17: tnot(ppp)  tnot(ppp)
tst18: tnot(ppp)  (not ppp)
tst19: atom(a)  atom(a)@_prolog
tst20: a+b  a + b
tst21: ${f(a)@foo}  res = ${f(a)@foo}
tst22: ${f(a)@foobar}  res = ${f(a)@foobar}
tst23: a[b->c]  a[b -> c]
tst24: a[b->c(ff(${dd[dd->dd]}))]  a[b -> c(ff(${dd[dd -> dd]}))]
tst25: g(a)[f(b)->h(c)]  g(a)[f(b) -> h(c)]
tst26: ${g(a)[p(d)*->h]}[f(b)->h(c)]  ${g(a)[p(d) *-> h]}[f(b) -> h(c)]
tst27: ${a[b->c]}  res = ${a[b -> c]}
tst28: ${a[b->c]@foo}  res = ${a[b -> c]@foo}
tst29: ${a[b->c]@bar}  res = ${a[b -> c]@bar}
tst30: a[b->c]@bar  a[b -> c]@bar
tst31: ${a[b*->c]}  res = ${a[b *-> c]}
tst32: ${a[b{1:1}=>c]}  res = (${a[b => c]}, ${a[b{1:1}=>?})
tst33: ${a[b{1:1}*=>c]}  res = (${a[b *=> c]}, ${a[b{1:1}*=>?})
tst34: ${a[b->c]}  res = ${a[b -> c]}
tst35: ${a[b->{c,d}]}  res = (${a[b -> c]}, ${a[b -> d]})
tst36: ${a[b->->c]}  res = ${a[b ->-> c]}
tst37: ${a[b*->->c]}  res = ${a[b *->-> c]}
tst38: ${a[b*->c]}  res = ${a[b *-> c]}
tst39: ${a[b*+>>c]}  res = ${a[b *+>> c]}
tst40: a[b*+>>c]  a[b *+>> c]
tst41: ${a[b=>c]}  res = ${a[b => c]}
tst42: ${a[b*=>c]}  res = ${a[b *=> c]}
tst43: ${a[pp(a,y)]}  res = ${a[pp(a,y)]}
tst44: ${a[*pp(a,y)]}  res = ${a[*pp(a,y)]}
tst45: ${a[%pp(a,y)]}  res = ${a[%pp(a,y)]}
tst46: ${a:=:b}  res = ${a :=: b}
tst47: ${f(a):=:g(b,p)}  res = ${f(a) :=: g(b,p)} f(a) :=: g(b,p)
tst48: p(y)@_plg()  res = p(y)@_prolog
tst49: p(y)@_plg(aaa)  res = p(y)@_prolog(aaa)
tst50: p(y)@_plg(aaa)  p(y)@_prolog(aaa)
tst51: ${p(y)@foo}  res = ${p(y)@foo}
tst52: ${a[b->c]@foo}  res = ${a[b -> c]@foo}
tst53: ${if a[b->c]@foo then b[y->p] else g(c)}  res = ${if (a[b -> c]@foo) then (b[y -> p]) else (g(c))} if (a[b -> c]@foo) then (b[y -> p]) else (g(c))
tst54: ${if (a[b->c]@foo  res = ${if ((a[b -> c]@foo, p(a))) then (b)}
tst55: unless a[b->c]@foo do b  unless (a[b -> c]@foo) do (b)
tst56: ${while a[b->c]@foo do b}  res = ${while (a[b -> c]@foo) do (b)}
tst57: ${while a[b->c]@foo loop p[%p(r)]}  res = ${while (a[b -> c]@foo) loop (p[%p(r)])}
tst58: loop a[b->c]@foo until b  loop (a[b -> c]@foo) until (b)
tst59: ${do a[b->c]@foo until b}  res = ${do (a[b -> c]@foo) until (b)}
tst62: ${insert{a[b->c]}}  res = ${insert{a[b -> c]}}
tst63: ${insert{a[b->c],e[f->g]}}  res = ${insert{a[b -> c], e[f -> g]}}
tst64: ${insert{a[b->c]|e[f->g],2>1}}  res = ${insert{a[b -> c]| (e[f -> g], 2 > 1)}}
tst65: ${delete{a[b->c],e[f->g]}}  res = ${delete{a[b -> c], e[f -> g]}}
tst66: ${delete{a[b->c]|e[f->g],2>1}}  res = ${delete{a[b -> c]| (e[f -> g], 2 > 1)}}
tst67: ${deleteall{a[b->c]|e[f->g],2>1}}  res = ${deleteall{a[b -> c]| (e[f -> g], 2 > 1)}}
tst68: ${eraseall{a[b->c]| 2>1}}  res = ${eraseall{a[b -> c]| 2 > 1}}
tst69: ${erase{a[b->c]|e[f->g],2>1}}  res = ${erase{a[b -> c]| (e[f -> g], 2 > 1)}}
tst70: ${t_insert{a[b->c],e[f->g]}}  res = ${t_insert{a[b -> c], e[f -> g]}}
tst71: ${t_insert{a[b->c]|e[f->g],2>1}}  res = ${t_insert{a[b -> c]| (e[f -> g], 2 > 1)}}
tst72: ${t_delete{a[b->c],e[f->g]}}  res = ${t_delete{a[b -> c], e[f -> g]}}
tst73: ${t_delete{a[b->c]|e[f->g],2>1}}  res = ${t_delete{a[b -> c]| (e[f -> g], 2 > 1)}}
tst74: ${t_deleteall{a[b->c]|e[f->g],2>1}}  res = ${t_deleteall{a[b -> c]| (e[f -> g], 2 > 1)}}
tst75: ${t_erase{a[b->c]}}  res = ${t_erase{a[b -> c]}}
tst76: ${t_erase{a[b->c]|e[f->g],2>1}}  res = ${t_erase{a[b -> c]| (e[f -> g], 2 > 1)}}
tst77: ${t_eraseall{a[b->c]|e[f->g],2>1}}  res = ${t_eraseall{a[b -> c]| (e[f -> g], 2 > 1)}}
tst78: ${F=avg{Y|e[Y->g],2>1}}  res = ${F = avg{Y| (e[Y -> g], 2 > 1)}}
tst79: ${F=avg{Y [Z]|e[Y->g],Z>1}}  res = ${F = avg{Y[Z]| (e[Y -> g], Z > 1)}} F = avg{Y[Z]| (e[Y -> g], Z > 1)}
tst80: ${F=avg{Y [Z,V]|e[Y->g],Z>V}}  res = ${F = avg{Y[Z,V]| (e[Y -> g], Z > V)}}
tst81: ${F=count{Y|e[Y->g],2>1}}  res = ${F = count{Y| (e[Y -> g], 2 > 1)}}
tst82: ${p2h{f(s),g(p,a)}}  res = ${p2h{f(s),g(p,a)}}
tst83: ${refresh{a[b->c]}}  res = ${refresh{a[b -> c]}}
tst84: ${refresh{a[b->c],d[g->p]}}  res = ${refresh{a[b -> c], d[g -> p]}}
tst85: ${throw{a(b,c)}}  res = ${throw{a(b,c)}}
tst86: throw{a(b,c)}  throw{a(b,c)}
tst87: ${catch{a[b->c],f(a),p(oo)}}  res = ${catch{a[b -> c],f(a),p(oo)}}
tst88: ${a[%pp(a,y),*pp(a,y),pp(g(a),h(y));f(a)->b]}  res = ((${a[%pp(a,y)]}, (${a[*pp(a,y)]}, ${a[pp(g(a),h(y))]})); ${a[f(a) -> b]})
tst89: ${a:b[b->c,e->f]}  res = (${a:b}, (${a[b -> c]}, ${a[e -> f]}))
tst90: ${a[b->c;p->q]}  res = (${a[b -> c]}; ${a[p -> q]})
tst91: ${a[b->c,e->f;p->{q,r},oo+>>you]}  res = ((${a[b -> c]}, ${a[e -> f]}); ((${a[p -> q]}, ${a[p -> r]}), ${a[oo +>> you]}))
tst92: ${(a[b->c,e->f],ppp[p->{q,r}] ; qq[oo+>>you])}  res = (((${a[b -> c]}, ${a[e -> f]}), (${ppp[p -> q]}, ${ppp[p -> r]})); ${qq[oo +>> you]})
tst93: [${a[b->c,e->f]},fff(y,pp),${(ppp[p->{q,r}],qq[oo+>>you])}]  res = [(${a[b -> c]}, ${a[e -> f]}), fff(y,pp), ((${ppp[p -> q]}, ${ppp[p -> r]}), ${qq[oo +>> you]})]
tst94: [${a[b->c,e->f]},fff(y,pp),(${(ppp[p->{q,r}],qq[oo+>>you])})]  res = [(${a[b -> c]}, ${a[e -> f]}), fff(y,pp), ((${ppp[p -> q]}, ${ppp[p -> r]}), ${qq[oo +>> you]})]
tst96: p([f(a) - g(b), h(s) - j(o)])
tst97: res = [f(a - b), h(s) - j(o)]
tst98: _#'103'8 - _#'104|2'8 + _#'104|2'8
tst99: ((p(a), (a[b -> c], a[d -> e])), (delete{foo(P)| a[P -> 2]}, P = avg{O| p(O)}))
tst0_2: ${%f(a)}  %f(a) res = ${%f(a)}
tst3_2: %f(a)  %f(a)
tst4_2: %f(g(${a[b->c]}))(a)  %f(g(${a[b -> c]}))(a)
tst7_2: %f(g(${a[b->c]}))(a)  %f(g(${a[b -> c]}))(a)
tst9_2: %f(a)@foobar  %f(a)@foobar
tst21_2: ${%f(a)@foo}  res = ${%f(a)@foo}
tst22_2: ${%f(a)@foobar}  res = ${%f(a)@foobar}
