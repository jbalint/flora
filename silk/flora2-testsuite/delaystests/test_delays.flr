#include "standard.h"
//?- set_test_mode@_plg(flrdelaysupport).

m1(?X,?Y,?Z) :- must(ground(?X),ground(?Y),nonvar(?Z))^wish(ground(?W))^foo(?X,?Y,?Z,?W).
m2(?X,?Y,?Z,?W) :- must(ground(?X),ground(?Y),ground(?Z))^foo(?X,?Y,?Z,?W).
m3(?X,?Y,?Z,?W) :- must(ground(?X),ground(?Y))^wish(ground(?Z),ground(?W))^foo(?X,?Y,?Z,?W).

foo(a,b,c,d).


test1 :- m1(a,b,c).
test2 :- m1(a,b(?x),?x).
test3(?x) :- m2(a,b,c,?x).
test4 :- (m3(?x,?y,c,d);true).
test5 :- (m3(a,?x,?y,?z);true).
test6(?x,?y) :- m3(a,b,?x,?y).

%test :-
	set_test_mode@_plg(flrdelaysupport),
	tell(temp)@_plg,
	test1,
	test2,
	test3(?x),
	writeln(?x)@_plg,
	test4,
	test5,
	test6(?y,?z),
	writeln(?y)@_plg,
	writeln(?z)@_plg,
	told@_plg.
	//clear_test_mode@_plg(flrdelaysupport).
