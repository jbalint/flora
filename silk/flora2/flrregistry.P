/* File:      flrregistry.P
**
** Author(s): Michael Kifer
**
** Contact:   kifer@cs.stonybrook.edu
**
** Copyright (C) by
**      The Research Foundation of the State University of New York, 1999-2010.
**
** All rights reserved.
**
** For information about licensing terms, please see
** http://silk.projects.semwebcentral.org/flora2-license.html
**
**
*/


:- compiler_options([xpp_on]).


%% Tells which modules are loaded
:- dynamic flora_module_registry/1.
%% Tells which modules have trailers loaded in them (some may have no trailers)
:- dynamic flora_trailer_registry/2.
%% Tells which modules have debug option turned on
:- dynamic flora_debug_module_registry/1.
%% Keeps track of the storage trie names
:- dynamic flora_storage_registry/1,
	flora_fld_storage_registry/1.
%% Optimizer options
:- dynamic flora_optimizer_registry/2.
%% (ExportingModule, ModuleExportedTo, UpdatableTag, Exported_Term)
:- dynamic flora_export_registry(_,_,_,_).
:- index(flora_export_registry/4,[4,1]).

:- dynamic flora_in_debug_mode/1.
:- dynamic flora_configuration/2.

%% Pair of FloraModule,ModuleDescribingDefeasibleTheory
:- dynamic flora_defeasible_module_registry/2.

:- dynamic flora_disabled_undefinedness_check_registry/3.

:- dynamic flora_coder_prefixdef/2.

:- dynamic flora_shell_prefixdef/3.

:- dynamic flora_user_defined_functions_registry/1.

:- dynamic flora_user_defined_function/6.

%% This has the form: limitname, value, action
%% The action is the exception handler in case an exception is thrown due
%% to the violation of the limit.
%% Examples of the limits include:
%%    timeout, secs, flora_timeout_handler
%%    termdepth, int, flora_depth_limit_handler
%% Handler is a unary predicate. The argument is the goal that caused
%% the exception
:- dynamic flora_runtime_limits_registry/3.

:- export
	flora_module_registry/1,
	flora_debug_module_registry/1,
	flora_in_debug_mode/1,
	flora_storage_registry/1,
	flora_fld_storage_registry/1,
	flora_trailer_registry/2,
	flora_optimizer_registry/2,
	flora_export_registry/4,
	flora_disabled_undefinedness_check_registry/3,
	flora_configuration/2,
	flora_defeasible_module_registry/2,
	flora_coder_prefixdef/2,
	flora_shell_prefixdef/3,
	flora_user_defined_functions_registry/1,
	flora_user_defined_function/6.

