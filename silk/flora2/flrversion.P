/* File:      flrversion.P
**
** Author(s): Michael Kifer
**
** Contact:   kifer@cs.stonybrook.edu
**
** Copyright (C) by
**      The Research Foundation of the State University of New York, 1999-2010.
**
** All rights reserved.
**
** For information about licensing terms, please see
** http://silk.projects.semwebcentral.org/flora2-license.html
**
**
*/


:- compiler_options([xpp_on]).
#include "version.flh"

:- import str_match/5, substring/4 from string.
:- import flora_configuration/2 from flrregistry.
:- import
	flora_build_id/1,
	flora_build_date/1,
	flora_concat_atoms/2
   from flrporting.

?- '_$_flora_full_name'(FloraFullName),
   (flora_configuration(standalone,yes), !
   ;
       assert(package_configuration(version(flora),FloraFullName))
   ), 
   flora_build_date(Date),
   assert(flora_configuration(releasedate,Date)),
   assert(flora_configuration(name,FLORA_NAME)),
   assert(flora_configuration(version,FLORA_VERSION)),
   flora_build_id(Build),
   assert(flora_configuration(build,Build)).


'_$_flora_full_name'(X) :-
	flora_concat_atoms([FLORA_VERSION,
			    ' (', FLORA_NAME, ') of ',
			    FLORA_DATE], X).
