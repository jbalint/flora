/*******************************************************************************
  file: datatypes/flrdtype_sub.P - subclassing among data types
  Author(s): Michael Kifer

  Copyright (C) by
       The Research Foundation of the State University of New York, 2010.

  All rights reserved.

  For information about licensing terms, please see
  http://silk.projects.semwebcentral.org/flora2-license.html

*******************************************************************************/



:- compiler_options([xpp_on]).
#include "flora_datatype_symbols.flh"

:- export dtype_sub/2.
:- dynamic flora_defined_class/1.
:- table dtype_sub/2 as opaque.
:- import flora_when/2 from flrutils.

%% usermod:flora_defined_class(C) is very expensive and was added only
%% for subsumptive tabling. But with addition of constraints to
%% subsumptive tabling, this might not be necessary
dtype_sub(C,FL_TOPTYPE) :-
	%% usermod:flora_defined_class(C),   %% defined in flrcommon.fli
    	flora_when(nonvar(C),C \= FL_TOPTYPE).
dtype_sub(FL_LONG,FL_INTEGER).
dtype_sub(FL_INTEGER,FL_DECIMAL).
dtype_sub(FL_FLOAT,FL_DOUBLE).
dtype_sub(FL_IRI,FL_SYMBOL).

dtype_sub(X,Y) :- dtype_sub(X,Z), dtype_sub(Z,Y). 
