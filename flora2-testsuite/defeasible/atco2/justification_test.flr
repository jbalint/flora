
?- [atco_init], [+justification_test_fl],
	[+justification_test_prog], [+justification_test_prog_aux],
	[justification_test_just>>builtin].

%tst1 :- write('tst1=')@_plg,
	naf silk#defeatedr(anomaly(ordinaryCC))@builtin,
	writeln(ok)@_plg.

%tst2 :- write('tst2=')@_plg,
	silk#defeatedr(anomaly(?_c))@builtin,
	_isnonvar(?_c),
	writeln(?_c)@_plg.

%tst3 :- write('tst3=')@_plg,
	?_c = ordinaryCC,
	naf ((silk#instRule(anomaly(?_c), normalBehavior, ${replicatedDNA(?_c)@main}, [${starts(interPhase(?))@main}])@builtin,
	status(normalBehavior,${replicatedDNA(?_c)@main})[howDefeated->?_]@SILK_AT)),
	writeln(ok)@_plg.

%tst4 :- write('tst4=')@_plg,
	silk#instRule(anomaly(?_c), normalBehavior, ${replicatedDNA(?_c)@main}, [${starts(interPhase(?))@main}])@builtin and status(normalBehavior,${replicatedDNA(?_c)@main})[howDefeated->?_]@SILK_AT,
	_isnonvar(?_c),
	writeln(?_c)@_plg.

%pretest :- %tst1, %tst2, %tst3, %tst4.


%test :- tell(temp)@_plg(),
	Method[%mustDefine(on)]@_sys,
	%pretest,
	Method[%mustDefine(off)]@_sys,
	%pretest,
	told@_prolog.
