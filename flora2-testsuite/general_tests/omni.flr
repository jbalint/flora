#include "flora_terms.flh"

#ifdef PARSING_FLORA

%test :- 
	(File[exists(omni_old)]@_io -->> File[unlink(omni_old)]@_io;true),
	(flora_running_as(flora2)@_plg(flrporting) -->>
	    File[link(omni_flora_old,omni_old)]@_io
	;  File[link(omni_ergo_old,omni_old)]@_io
        ),
	tell(temp)@_plg,
        told@_plg.

#else

exists(?X)^((a(?X);b(?X)), neg b(?X)).

?- insert{exists(?X)^((aa(?X);bb(?X)), neg bb(?X))}.

?- insertrule{exists(?X)^((aaa(?X);bbb(?X)), neg bbb(?X)):- ppp}.
ppp.



%tst1 :- a(?_X), writeln(tst1=?_X)@_plg.
%tst2 :- aa(?_X), writeln(tst2=?_X)@_plg.
%tst3 :- aaa(?_X), writeln(tst3=?_X)@_plg.


%pretest :- %tst1, %tst2, %tst3.

%test :-
	(File[exists(omni_old)]@_io -->> File[unlink(omni_old)]@_io;true),
	(flora_running_as(flora2)@_plg(flrporting) -->>
	    File[link(omni_flora_old,omni_old)]@_io
	;  File[link(omni_ergo_old,omni_old)]@_io
        ),
	tell(temp)@_plg,
        Method[mustDefine(on)]@_sys,
        %pretest,
        Method[mustDefine(off)]@_sys,
        told@_plg.

#endif
