udf foo(a,b):=t.
udf foo(v,w):=m.
udf foo(?x,?y):=?z if foo_pred(?x,?y,?z).
udf t(c):=d.
udf ?x(a,b)(?y):=t(?z) if pred(?y,?x,?z).
pred(a,foo,c).
foo_pred(m,n,k).
q(d).
q(moo(a,b)(h)).
q(foo(a,b)(p)).
q(k(y)).

r(?x,?f) :-
	q(?f(a,b)(?x)).

r(?x,?f) :-
	q(?f(m,n)(?x)).


test1 :-
	r(?x,?y),
	writeln(?x)@\plg,
	writeln(?y)@\plg.

%test :-
	tell(temp)@\plg,
	test1,
	told@\plg.
